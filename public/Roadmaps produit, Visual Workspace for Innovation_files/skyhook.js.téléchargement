!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function n(t,n,r){return(n=e(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
o=function(){return n};var e,n={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new I(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var d="suspendedStart",v="executing",m="completed",y={};function g(){}function b(){}function w(){}var _={};p(_,u,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(N([])));x&&x!==r&&i.call(x,u)&&(_=x);var E=w.prototype=g.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function L(e,n){function r(o,a,s,u){var c=h(e[o],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==t(p)&&i.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):n.resolve(p).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,i){r(t,e,n,i)}))}return o=o?o.then(i,i):i()}})}function C(t,n,r){var i=d;return function(o,a){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?m:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function O(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function N(n){if(n||""===n){var r=n[u];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function t(){for(;++o<n.length;)if(i.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(n)+" is not iterable")}return b.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=p(w,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,p(t,l,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},S(L.prototype),p(L.prototype,c,(function(){return this})),n.AsyncIterator=L,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var a=new L(f(t,e,r,i),o);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),p(E,l,"Generator"),p(E,u,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=N,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},n}function a(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)}))}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,e(i.key),i)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var v,m,y,g="Thu, 01 Jan 1970 00:00:00 GMT",b=((v=function(t,e,n,r,i,a){function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2?arguments[2]:void 0;if(f(this,u),this.prefix=t||"",this.expires="",e){var r=new Date;r.setTime(r.getTime()+24*e*60*60*1e3),this.expires=r.toGMTString()}this.path=n&&n.path||"/",this.sameSite=n&&n.sameSite||"lax",this.secure=n&&n.secure||!0,this.partitioned=n&&n.partitioned||!1,this.domain=n&&n.domain}return d(u,[{key:"setDomain",value:function(t){this.domain=t}},{key:"set",value:function(e,n){return(t=t||s(o().mark((function t(e,n){var r,i,a,s,u,c,l,p,f,h,d,v,m,y=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=y.length>2&&void 0!==y[2]?y[2]:{},i=r.expires,a=void 0===i?this.expires:i,s=r.domain,u=void 0===s?this.domain:s,c=r.path,l=void 0===c?this.path:c,p=r.sameSite,f=void 0===p?this.sameSite:p,h=r.secure,d=void 0===h?this.secure:h,v=r.partitioned,m=void 0===v?this.partitioned:v,e=this.prefix+e,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+(a?"; expires="+a:"")+(l?"; path="+l:"")+(u?"; domain=."+u:"")+(f?"; SameSite="+f:"")+(d?"; Secure":"")+(m?"; Partitioned":"");case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"get",value:function(t){return(e=e||s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getAll()[e]);case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"getAll",value:function(){return(n=n||s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},this.forEach((function(t,n){return e[t]=n})),t.abrupt("return",e);case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"exists",value:function(t){return(r=r||s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAll();case 2:return t.abrupt("return",t.sent.hasOwnProperty(e));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"forEach",value:function(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=l(e[n].trimLeft().split("=").map(decodeURIComponent),2),i=r[0],o=r[1];0===i.indexOf(this.prefix)&&t(i.slice(this.prefix.length),o)}}},{key:"delete",value:function(t){return(i=i||s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.set(e,"",{expires:g});case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"eTLDplus1",value:function(){return(a=a||s(o().mark((function t(){var e,n,r,i,a,s,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.eTLDplus1_result){t.next=2;break}return t.abrupt("return",u.eTLDplus1_result);case 2:return e="eTLDplus1test",t.next=5,this.delete(e);case 5:(n=new Date).setTime(n.getTime()+1e6),r=n.toGMTString(),i=new URL(window.location.href).hostname,a=i.split("."),s=a.length-2;case 11:if(!(s>=0)){t.next=25;break}return c=a.slice(s).join("."),t.next=15,this.set(e,c,{expires:r,domain:c});case 15:return t.next=17,this.exists(e);case 17:if(!t.sent){t.next=22;break}return t.next=20,this.set(e,"",{expires:g,domain:c});case 20:return u.eTLDplus1_result=c,t.abrupt("return",c);case 22:s--,t.next=11;break;case 25:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}}]),u}()).eTLDplus1_result=null,v),w=!1;if("undefined"!=typeof global&&global.hasOwnProperty("chrome")?m=global.chrome:"undefined"!=typeof window&&window.hasOwnProperty("chrome")&&(m=window.chrome),m&&m.runtime)try{m.runtime.sendMessage({message:"test"}),w=!0}catch(t){}if(w)b.prototype.set=function(t,e){return(y=y||s(o().mark((function t(e,n){var r,i,a,s,u,c,l,p,f,h,d,v,y,g,b=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.length>2&&void 0!==b[2]?b[2]:{},i=r.expires,a=void 0===i?this.expires:i,s=r.domain,u=void 0===s?this.domain:s,c=r.path,l=void 0===c?this.path:c,p=r.sameSite,f=void 0===p?this.sameSite:p,h=r.secure,d=void 0===h?this.secure:h,v=r.partitioned,y=void 0===v?this.partitioned:v,g={url:window.location.href,name:e.toString(),value:n.toString()},a&&(g.expirationDate=new Date(a).getTime()),u&&(g.domain=u),l&&(g.path=l),f&&(g.sameSite=f),d&&(g.secure=d),y&&(g.partitioned=y),t.next=10,m.runtime.sendMessage({setCookie:g});case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)};else if(window.cookieStore){var _;b.prototype.set=function(t,e){return(_=_||s(o().mark((function t(e,n){var r,i,a,s,u,c,l,p,f,h,d,v,m,y,g=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:{},i=r.expires,a=void 0===i?this.expires:i,s=r.domain,u=void 0===s?this.domain:s,c=r.path,l=void 0===c?this.path:c,p=r.sameSite,f=void 0===p?this.sameSite:p,h=r.secure,d=void 0===h?this.secure:h,v=r.partitioned,m=void 0===v?this.partitioned:v,y={name:e,value:n},a&&(y.expires=new Date(a).getTime()),u&&(y.domain=u),l&&(y.path=l),f&&(y.sameSite=f),d&&(y.secure=d),m&&(y.sartitioned=m),t.next=10,window.cookieStore.set(y);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var x,E=function(){function t(e){f(this,t),this._queue=[],this._interval=e||250}return d(t,[{key:"queue",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._queue.push([t].concat(n)),1===this._queue.length&&this._step()}},{key:"bind",value:function(t){this._boundThis=this}},{key:"_step",value:function(){if(this._queue.length){var t=this._queue.shift();t.shift().apply(this._boundThis,t),window.setTimeout(this._step.bind(this),this._interval)}}}]),t}(),S=function(){function t(e,n){f(this,t),this._el=e,this._protectedValue=n,t.set_value(e,n),this.__protectMutationObserver(e,n),this.__protectAutocomplete(e,n),this.__protectDataIgnore(e,n),this.__protectEventListeners(e,n)}return d(t,[{key:"__protectDefineProperty",value:function(t,e){Object.defineProperty(t,"value",{writable:!1,enumerable:!0,configurable:!1,value:e})}},{key:"__protectMatchesAutofill",value:function(t,e){var n=t.matches.bind(t);t.matches=function(t){return":autofill"===t||n(t)}}},{key:"__protectSetInterval",value:function(t,e){t.__interval=window.setInterval((function(){return t.value=e}),1)}},{key:"__protectMutationObserver",value:function(e,n){var r=new MutationObserver((function(){e.value!==n&&(r.disconnect(),t.set_value(e,n),r.observe(e,{attributes:!0}))}));r.observe(e,{attributes:!0})}},{key:"__protectDisabled",value:function(t){t.setAttribute("disabled",!0)}},{key:"__protectAutocomplete",value:function(t){t.setAttribute("autocomplete","off"),t.setAttribute("noautofill","true"),t.setAttribute("autofill","false")}},{key:"__protectDataIgnore",value:function(t){t.setAttribute("data-lpignore","true"),t.setAttribute("data-lastpass-ignore","true"),t.setAttribute("data-1p-ignore","true")}},{key:"__protectEventListeners",value:function(e,n){["input","change","blur","focus"].forEach((function(r){return e.addEventListener(r,(function(r){t.set_value(e,n),r.stopPropagation()}))}))}}],[{key:"lock",value:function(e,n){t._locks||(t._locks=[]),t._locks.push(new t(e,n))}},{key:"set_value",value:function(t,e){var n=Object.getOwnPropertyDescriptor(t,"value");if(n&&n.set){var r=n.set,i=Object.getPrototypeOf(t),o=Object.getOwnPropertyDescriptor(i,"value").set;r&&r!==o?o.call(t,e):r.call(t,e)}else t.value=e}}]),t}(),L=function(){function t(){f(this,t)}return d(t,null,[{key:"lock",value:function(e,n,r){return t.fill(e,n,r,"lock")}},{key:"fill",value:function(e,n,r,i){if(e&&"input"===e.tagName.toLowerCase())return r||(t._actionQueue||(t._actionQueue=new E),r=t._actionQueue),n=n||"",[o,o,a,o,a,function(t,e){t.setAttribute("autocomplete","off"),t.setAttribute("data-lpignore","true");var n=e[0]||" ",r={bubbles:!0,cancelable:!0,key:n,char:n,code:"Key".concat(n.toUpperCase()),keyCode:n.charCodeAt(0),charCode:n.charCodeAt(0),which:n.charCodeAt(0)};["keydown","keypress","keyup"].forEach((function(e){var n=new KeyboardEvent(e,r);t.dispatchEvent(n)})),t.value=n;var i=new Event("input",{bubbles:!0,cancelable:!0});t.dispatchEvent(i);var o=new Event("change",{bubbles:!0,cancelable:!0});t.dispatchEvent(o)},s,function(t,e){t.setAttribute("autocomplete","off"),t.setAttribute("data-lpignore","true"),["input","change"].forEach((function(e){var n=t.ownerDocument.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}))},i?function(t,e){S.lock(t,e)}:s,function(t,e){t.blur()}].forEach((function(t){return r.queue(t,e,n)})),!0;function o(t,e){t.click()}function a(t,e){t.focus()}function s(t,e){t.setAttribute("autocomplete","off"),t.setAttribute("data-lpignore","true");var n=Object.getOwnPropertyDescriptor(t,"value");if(n&&n.set){var r=n.set,i=Object.getPrototypeOf(t),o=Object.getOwnPropertyDescriptor(i,"value").set;r&&r!==o?o.call(t,e):r.call(t,e)}else t.value=e;var a=new Event("input",{bubbles:!0,cancelable:!0});t.dispatchEvent(a)}}},{key:"selectOption",value:function(t,e){if(t&&"select"===t.tagName.toLowerCase()){var n,r=k(t.options);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.text===e)return i.selected=!0,!0}}catch(t){r.e(t)}finally{r.f()}}}}]),t}(),C=function(){function t(){f(this,t),this._fields={},this._actionQueue=new E}return d(t,[{key:"detect",value:function(t){var e=this,n=null,r=this._getInputs(t);if(r)return r.forEach((function(t){if(e._isElementVisible(t)){var r=e._identifyInput(t);r&&((n=n||{})[r]=n[r]||[],n[r].push(t))}})),this._fields=n,this._fields}},{key:"fields",value:function(){return this._fields}},{key:"fill",value:function(t,e){var n=[];if(this._filled=n,!t)return n;var r=this._fields;if(!r)return n;if(t.auth.fullName||!t.auth.firstName&&!t.auth.lastName||(t.auth.fullName=(t.auth.firstName+" "+t.auth.lastName).trim()),r.email&&t.auth.email&&(this._fillInput(r.email[0],t.auth.email,e),n.push(r.email[0])),r.password&&t.auth.password&&(this._fillInput(r.password[0],t.auth.password,e),n.push(r.password[0])),r.firstName&&(this._fillInput(r.firstName[0],t.auth.firstName||t.card.address.firstName,e),n.push(r.firstName[0])),r.lastName&&(this._fillInput(r.lastName[0],t.auth.lastName||t.card.address.lastName,e),n.push(r.lastName[0])),r.fullName&&(this._fillInput(r.fullName[0],t.auth.fullName||t.card.address.fullName,e),n.push(r.fullName[0])),r.cardPan&&(this._fillInput(r.cardPan[0],t.card.pan,e),n.push(r.cardPan[0])),r.cardCVV&&(this._fillInput(r.cardCVV[0],t.card.cvv,e),n.push(r.cardCVV[0])),r.cardExpiry&&(this._fillInput(r.cardExpiry[0],(t.card.expiryMonth,e+"/"+(t.card.expiryYear||"")).trim()),n.push(r.cardExpiry[0])),r.cardExpiryMonth&&(this._fillInput(r.cardExpiryMonth[0],t.card.expiryMonth,e),n.push(r.cardExpiryMonth[0])),r.cardExpiryYear&&(this._fillInput(r.cardExpiryYear[0],t.card.expiryYear,e),n.push(r.cardExpiryYear[0])),r.addressLine1&&(this._fillInput(r.addressLine1[0],t.card.address.address1,e),n.push(r.addressLine1[0])),r.addressLine2&&(this._fillInput(r.addressLine2[0],t.card.address.address2,e),n.push(r.addressLine2[0])),r.addressCity&&(this._fillInput(r.addressCity[0],t.card.address.city,e),n.push(r.addressCity[0])),r.addressState){var i=r.addressState[0];this._isSelect(i)?this._selectOption(i,t.card.address.state,e):this._fillInput(i,t.card.address.state,e),n.push(i)}if(r.addressCountry){var o=r.addressCountry[0];this._isSelect(o)?this._selectOption(o,this._isoCountryToLocale(t.card.address.country),e)||this._selectOption(o,t.card.address.country,e):this._fillInput(o,t.card.address.country,e),n.push(o)}return r.addressPostalCode&&(this._fillInput(r.addressPostalCode[0],t.card.address.postalCode,e),n.push(r.addressPostalCode[0])),n}},{key:"submit",value:function(){if(this._filled&&this._fields){var t=this._getSubmitForm(this._filled,this._fields);if(t){var e=function(t){t.submit()};return this._actionQueue.queue(e,t),!0}var n=this._getSubmitButton(this._filled,this._fields);if(n){return this._actionQueue.queue((function(t){t.click()}),n),!0}}}},{key:"_getSubmitButton",value:function(t,e){if(e&&e.submit&&e.submit.length&&t&&t.length)return this._commonClosest(t,e.submit)}},{key:"_getSubmitForm",value:function(t,e){if(e&&e.form&&e.form.length&&t&&t.length)return this._commonClosest(t,e.form)}},{key:"_getInputs",value:function(t){var e=document;if(!t||(e=document.querySelector(t)))return e.querySelectorAll('input:not([type="hidden"]):not([type="reset"]):not([type="image"]):not([type="file"]), select, button, form')}},{key:"_identifyInput",value:function(t){var e=this;if("FORM"===t.tag)return"form";for(var n=[function(t){return t.getAttribute("autocomplete")},function(t){return t.getAttribute("type")},function(t){return t.getAttribute("id")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("class")},function(t){return t.getAttribute("placeholder")},function(t){return t.getAttribute("inputmode")},function(t){return e._getLabel(t)},function(t){return"BUTTON"===t.tag&&t.innerText}],r=[["email",[function(t){return t.toLowerCase().indexOf("email")>=0}]],["password",[function(t){return t.toLowerCase().indexOf("password")>=0}]],["website",[function(t){return t.toLowerCase().match(/website/)},function(t){return t.toLowerCase().match(/homepagehomepage/)}]],["companyName",[function(t){return t.toLowerCase().match(/(company|organization)/)&&!t.toLowerCase().match(/website/)}]],["firstName",[function(t){return t.toLowerCase().match(/first.*?name/)},function(t){return t.toLowerCase().match(/given.*?name/)}]],["lastName",[function(t){return t.toLowerCase().match(/last.*?name/)},function(t){return t.toLowerCase().match(/family.*?name/)}]],["fullName",[function(t){return t.toLowerCase().match(/full.*?name/)},function(t){return t.toLowerCase().match(/\bname\b/)&&!t.toLowerCase().match(/(company|organization|account|team|group)/)}]],["phone",[function(t){return t.toLowerCase().match(/\btel/)},function(t){return t.toLowerCase().match(/phone/)}]],["cardPan",[function(t){return t.toLowerCase().match(/cc.*?number/)},function(t){return t.toLowerCase().match(/credit\s+card\s+number/)}]],["cardExpiryMonth",[function(t){return t.toLowerCase().match(/cc.*?exp.*?month/)},function(t){return t.toLowerCase().match(/expiration\s+month/)}]],["cardExpiryYear",[function(t){return t.toLowerCase().match(/cc.*?exp.*?year/)},function(t){return t.toLowerCase().match(/expiration\s+year/)}]],["cardExpiry",[function(t){return t.toLowerCase().match(/cc.*?exp\b/)},function(t){return t.toLowerCase().match(/expiration\s+date/)}]],["cardCVV",[function(t){return t.toLowerCase().match(/cc.*?csc/)},function(t){return t.toLowerCase().match(/cvv/)}]],["addressLine1",[function(t){return t.toLowerCase().match(/address.*?line1/)},function(t){return t.toLowerCase().match(/address1/)}]],["addressLine2",[function(t){return t.toLowerCase().match(/address.*?line2/)},function(t){return t.toLowerCase().match(/address2/)}]],["addressCity",[function(t){return t.toLowerCase().match(/address.*?level2/)},function(t){return t.toLowerCase().match(/city/)}]],["addressState",[function(t){return t.toLowerCase().match(/address.*?level1/)},function(t){return t.toLowerCase().match(/state/)},function(t){return t.toLowerCase().match(/province/)}]],["addressPostalCode",[function(t){return t.toLowerCase().match(/postal.*?code/)},function(t){return t.toLowerCase().match(/zip.*?code/)}]],["addressCountry",[function(t){return t.toLowerCase().match(/country/)}]],["submit",[function(t){return t.toLowerCase().match(/submit/)},function(t){return t.toLowerCase().match(/button/)},function(t){return t.toLowerCase().match(/log\s*in/)},function(t){return t.toLowerCase().match(/sign\s*up/)},function(t){return t.toLowerCase().match(/sign\s*in/)}]]],i=0;i<n.length;i++){var o=(0,n[i])(t);if(o)for(var a=0;a<r.length;a++)for(var s=r[a],u=s[0],c=s[1],l=0;l<c.length;l++){if((0,c[l])(o))return u}}}},{key:"_getLabel",value:function(t){return this._getLabelElements(t).map((function(t){return t.innerText.replace(/\s+/," ").trim()})).join(" ")}},{key:"_getLabelElements",value:function(t){for(var e=[function(t){return t.id&&"string"==typeof t.id?p(document.querySelectorAll("label[for="+JSON.stringify(t.id)+"]")):[]},function(t){return t.name&&"string"==typeof t.name?p(document.querySelectorAll("label[for="+JSON.stringify(t.name)+"]")):[]},function(t){for(var e=[],n=t;n&&n!==document;n=n.parentNode)"label"===n.tagName.toLowerCase()&&e.push(n);return e},function(t){var e=t.parentNode;return"dd"===e.tagName.toLowerCase()&&null!==e.previousElementSibling&&"dt"===e.previousElementSibling.tagName.toLowerCase()?[e.previousElementSibling]:[]}],n=[],r=0;r<e.length;r++){var i=e[r](t);n=n.concat(i)}return n}},{key:"_getParentElement",value:function(t){var e=t.getBoundingClientRect();if(e.top||e.bottom){var n=t;for(t=t.parentElement;t;){var r=t.getBoundingClientRect();if(!(Math.abs(e.top-r.top)<5&&Math.abs(r.bottom-e.bottom)<5))return n;e=r,n=t,t=t.parentElement}}}},{key:"_isElementVisible",value:function(t){var e=window.getComputedStyle(t);if("none"===e.display||"hidden"===e.visibility)return!1;for(var n=t.parentElement;n;){var r=window.getComputedStyle(n);if("none"===r.display||"hidden"===r.visibility||"0"===r.opacity)return!1;n=n.parentElement}return!0}},{key:"_fillInput",value:function(t,e,n){return L.fill(t,e,this._actionQueue,n)}},{key:"_selectOption",value:function(t,e){return L.selectOption(t,e)}},{key:"_isSelect",value:function(t){return"select"===t.tagName.toLowerCase()}},{key:"_ancestors",value:function(t){for(var e=[];t;)e.push(t),t=t.parentNode;return e}},{key:"_leastCommonAncestor",value:function(t,e){for(var n=this._ancestors(t),r=this._ancestors(e),i=0;i<n.length;i++)if(r.indexOf(n[i])>=0)return n[i]}},{key:"_distance",value:function(t,e){for(var n=this._ancestors(t),r=this._ancestors(e),i=0;i<n.length;i++){var o=r.indexOf(n[i]);if(o>=0)return o+i}}},{key:"_closest",value:function(t,e){var n=this;if(t&&e&&e.length)return e.sort((function(e,r){return n._distance(t,e)-n._distance(t,r)}))[0]}},{key:"_commonClosest",value:function(t,e){var n=this;if(t&&t.length&&e&&e.length){var r=this._unique(t.map((function(t){return n._closest(t,e)})));return 1===r.length?r[0]:void 0}}},{key:"_commonAncestor",value:function(t){var e,n=t[0],r=k(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=this._leastCommonAncestor(n,i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"_unique",value:function(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))}}]),t}(),O=function(){function t(){f(this,t),this._container=null,this._inner=null}return d(t,[{key:"inner",value:function(t){this._inner&&this._inner.parentNode?(t&&this._inner.parentNode.appendChild(t),this._inner.parentNode.removeChild(this._inner)):this._positioning&&this._positioning.appendChild(t),this._inner=t}},{key:"center",value:function(){this._center=!0,this._positioning&&(this._positioning.style.margin="auto",this._positioning.style.position="absolute",this._positioning.style.top="50%",this._positioning.style.left="50%",this._positioning.style.transform="translateX(-50%) translateY(-50%)")}},{key:"show",value:function(){this.overlay().style.display="inherit"}},{key:"hide",value:function(){this.overlay().style.display="none",this.__timeout=null}},{key:"timeout",value:function(t){this.__timeout=Date.now()+2e3,window.setTimeout(this.onTimeout.bind(this),2e3)}},{key:"onTimeout",value:function(){this.__timeout&&Date.now()>this.__timeout&&this.hide()}},{key:"destroy",value:function(){var t=this.container();t&&t.parentNode.removeChild(t),x=null}},{key:"overlay",value:function(){var t=this.container();return t||((t=document.createElement("div")).style.background="white",t.style.width="100%",t.style.height="100%",t.style.position="fixed",t.style.zIndex=2147483647,t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0,t.style.margin=0,t.style.padding=0,t.style.opacity="1.0",t.id="appbind-overlay",t.style.display="none",this._positioning=document.createElement("div"),t.appendChild(this._positioning),this._center&&this.center(),this._inner&&this._positioning.appendChild(this._inner),document.body.appendChild(t),this._container=t,t)}},{key:"container",value:function(){return this._container||(this._container=document.getElementById("appbind-overlay")),this._container}}],[{key:"singleton",value:function(){return x||(x=new t),x}},{key:"g2",value:function(t){t&&t.auth&&!t.auth.fullName&&(t.auth.firstName||t.auth.lastName)&&(t.auth.fullName=(t.auth.firstName+" "+t.auth.lastName).trim());var e=document.createElement("div");return e.style.margin="auto",e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translateX(-50%) translateY(-50%)",e.innerHTML='\n      <div>\n        <style>\n          .appbind-g2-profile {\n            border: solid 2px #ff492c;\n            border-radius: 6px;\n            padding: 16px;\n            margin: 16px 0;\n            overflow: auto;\n            fheight: 48px;\n          }\n          .appbind-g2-logo {\n            float: left;\n            height: 48px;\n            width: 48px;\n          }\n          .appbind-g2-logo svg circle {\n            fill: #ff492c;\n          }\n          .appbind-g2-logo svg path {\n            fill: white;\n          }\n          .appbind-g2-main {\n            float: left;\n            margin-left: 16px;\n            line-height: 24px;\n            font-size: 14px;\n            font-family: Barlow, sans-serif;\n          }\n          .appbind-g2-name {\n            font-weight: bold;\n          }\n          .appbind-g2-email {\n            font-style: italic;\n          }\n          .appbind-g2-heading {\n            font-weight: bold;\n            font-size: 20px;\n          }\n          .appbind-g2-subheading {\n            font-style: italic;\n            font-size: 14px;\n            font-weight: 300;\n          }\n          .appbind-g2-cancel {\n            float: right;\n            height: 24px;\n            padding: 12px 0;\n            margin-left: 16px;\n          }\n          .appbind-g2-cancel a svg {\n            width: 24px;\n            height: 24px;\n          }\n        </style>\n        <div class=\'appbind-g2-profile\'>\n          <div class=\'appbind-g2-logo\'>\n            <svg xmlns="http://www.w3.org/2000/svg" contain="paint" buffered-rendering="static" viewBox="0 0 1000 1000" class="topnav__item__g2 g2-logo icon-g2-logo nessy-only" aria-labelledby="icon-label-7d71a6794245ecef8f7a0fc539069495" role="img"><title id="icon-label-7d71a6794245ecef8f7a0fc539069495">G2 - Business Software Reviews</title><circle cx="500" cy="500" r="500"></circle><path d="M716.4 383H631c2.3-13.4 10.6-20.9 27.4-29.4l15.7-8c28.1-14.4 43.1-30.7 43.1-57.3 0-16.7-6.5-29.9-19.4-39.4s-28.1-14.2-45.9-14.2a70.8 70.8 0 00-38.9 11.1c-11.7 7.2-20.4 16.5-25.8 28.1l24.7 24.8c9.6-19.4 23.5-28.9 41.8-28.9 15.5 0 25 8 25 19.1 0 9.3-4.6 17-22.4 26l-10.1 4.9c-21.9 11.1-37.1 23.8-45.9 38.2s-13.1 32.5-13.1 54.4v6h129.2zM705 459.2H563.6l-70.7 122.4h141.4L705 704.1l70.7-122.5L705 459.2z"></path><path d="M505.1 663.3c-90 0-163.3-73.3-163.3-163.3s73.3-163.3 163.3-163.3L561 219.8a286.4 286.4 0 00-55.9-5.5c-157.8 0-285.7 127.9-285.7 285.7s127.9 285.7 285.7 285.7a283.9 283.9 0 00168.2-54.8l-61.8-107.2a162.8 162.8 0 01-106.4 39.6z"></path></svg>\n          </div>\n        </div>\n      </div>\n    ',e}}]),t}(),A=console.state_log||function(){},T=0,I=function(){function t(e,n){f(this,t),this.instance=T++,this.script=null,this.step=null,this.options=n||{},this.storage=e.clone("mech"),this.options.context&&(this.storage=this.storage.clone(this.options.context)),this.storage&&this.restore()}return d(t,[{key:"overlay",value:function(){this.options.overlay&&this.action_overlay_show()}},{key:"run",value:function(e,n){var r=this;if(e&&(this.script=e),this.script&&!this.script.timestamp&&(this.script.timestamp=Date.now()),n&&(this.step=n),this.step||(this.step=0),this.script&&this.script.length&&"number"==typeof this.step&&this.step<this.script.length){if(Date.now()-(this.script.timestamp||Date.now())>=(this.script.timeout||t.TIMEOUT))return this.reset(),void A("[%s] TIMEOUT",this.storage.namespace);this.overlay(),A("[%s] run on step %s %s",this.storage.namespace,this.step.toString(),JSON.stringify(this.script[this.step]));var i=this.script[this.step++];this.options.onStep&&this.options.onStep(this.step),this.store(),window.setTimeout((function(){try{A("%c [%s] [%d] Action %s --- [%s]","color:orange;font-weight:bold;font-size:18px",r.storage.namespace,r.instance,i[0],JSON.stringify(i)),r["action_"+i[0]].apply(r,i.slice(1))&&r.run()}catch(t){A("%c [%s] Error %s","color:orange;font-weight:bold;font-size:18px",r.storage.namespace,t.stack)}}),1)}else O.singleton().destroy(),this.reset()}},{key:"store",value:function(){A("[%s] storing step %d of %s ",this.storage.namespace,this.step,JSON.stringify(this.script)),this.storage.set("script",{script:this.script,step:this.step,timestamp:this.script&&this.script.timestamp||Date.now(),timeout:this.script&&this.script.timeout||t.TIMEOUT,retryTime:this.script&&this.script.retryTime||null})}},{key:"reset",value:function(){A("[%s] reset",this.storage.namespace),this.script=null,this.step=null,this.options.onStep&&this.options.onStep(),this.storage.delete("script"),O.singleton().destroy()}},{key:"restore",value:function(){var e=this;this.storage.get("script",(function(n){if(A("[%s] restore [%s]",e.storage.namespace,JSON.stringify(n)),!(!n||!n.script||!n.script.length||"number"!=typeof n.step||n.step<0||n.step>=n.script.length)&&n.script[n.step]){var r=Date.now()-(n.timestamp||0);n&&r<(n.timeout||t.TIMEOUT)?(n.script.timestamp=n.timestamp,n.script.timeout=n.timeout,n.script.retryTime=n.retryTime,e.run(n.script,parseInt(n.step))):(e.reset(),A("[%s] TIMEOUT",e.storage.namespace))}}))}},{key:"retryStep",value:function(){var e=this;this.step--,this.store(),window.setTimeout((function(){e.run()}),this.script.retryTime||t.RETRYTIME)}},{key:"action_redirect",value:function(t){return t===window.location.href||(window.setTimeout((function(){window.location.href=t}),1),!1)}},{key:"action_fetch",value:function(t,e){return window.fetch(t,e),!0}},{key:"action_await_href",value:function(t){return window.location.href.indexOf(t)>=0||(this.retryStep(),!1)}},{key:"action_await",value:function(e,n,r){return n||(n=t.TIMEOUT),this.script_timeout||(this.script_timeout=new Date),(new Date).getTime()-this.script_timeout.getTime()>=n?r:!!this._query(e)||(this.retryStep(),!1)}},{key:"action_delay",value:function(t){var e=this;return window.setTimeout((function(){return e.run()}),t),!1}},{key:"action_set_value",value:function(t,e){var n=this._queryAll(t);if(n&&1===n.length&&void 0!==e){var r=n[0];r.setAttribute("autocomplete","off"),r.setAttribute("data-lpignore","true");var i=Object.getOwnPropertyDescriptor(r,"value");if(i&&i.set){var o=i.set,a=Object.getPrototypeOf(r),s=Object.getOwnPropertyDescriptor(a,"value").set;o&&o!==s?s.call(r,e):o.call(r,e)}else r.value=e;var u=new Event("input",{bubbles:!0,cancelable:!0});r.dispatchEvent(u);var c=new Event("change",{bubbles:!0,cancelable:!0});return r.dispatchEvent(c),!0}return!1}},{key:"action_lock_value",value:function(t,e){var n=this._queryAll(t);if(n&&1===n.length&&void 0!==e){var r=n[0];L.lock(r,e)}return!0}},{key:"action_check_value",value:function(t,e){var n=this._queryAll(t);return!(!n||1!==n.length||void 0===e)&&e===n[0].value}},{key:"action_check",value:function(t,e){void 0===e&&(e=!0);var n=this._queryAll(t);return!(!n||1!==n.length||"checkbox"!==n[0].type)&&(n[0].checked=e,!0)}},{key:"action_click",value:function(t,e){var n=this._queryAll(t);return n&&1===n.length?(n[0].click(),!0):e}},{key:"action_remove",value:function(t,e){var n=this._queryAll(t);if(n&&1===n.length){var r=n[0];return r.parentElement.removeChild(r),!0}return e}},{key:"action_red_border",value:function(t){var e=this._queryAll(t);return!(!e||1!==e.length)&&(e[0].style.border="solid red 2px",!0)}},{key:"action_focus",value:function(t){var e=this._queryAll(t);if(e&&1===e.length){var n=e[0],r=n.value;return n.focus(),n.setAttribute("autocomplete","off"),n.setAttribute("data-lpignore","true"),n.value=r,!0}return!1}},{key:"action_blur",value:function(t){var e=this._queryAll(t);if(e&&1===e.length){var n=e[0];return n.setAttribute("autocomplete","off"),n.setAttribute("data-lpignore","true"),n.blur(),!0}return!1}},{key:"action_post",value:function(t){return fetch(t,{method:"POST"}),!0}},{key:"action_keyboard_events",value:function(t){var e=this._queryAll(t);if(e&&1===e.length){var n=e[0];n.setAttribute("autocomplete","off"),n.setAttribute("data-lpignore","true");var r={bubbles:!0,cancelable:!0,key:" ",char:" ",code:"Key".concat(" ".toUpperCase()),keyCode:" ".charCodeAt(0),charCode:" ".charCodeAt(0),which:" ".charCodeAt(0)};return["keydown","keypress","keyup"].forEach((function(t){var e=new KeyboardEvent(t,r);n.dispatchEvent(e)})),!0}return!1}},{key:"action_change_events",value:function(t){var e=this._queryAll(t);if(e&&1===e.length){var n=e[0];n.setAttribute("autocomplete","off"),n.setAttribute("data-lpignore","true");for(var r=["input","change"],i=0;i<r.length;i++){var o=r[i],a=n.ownerDocument.createEvent("HTMLEvents");a.initEvent(o,!0,!0),n.dispatchEvent(a)}return!0}return!1}},{key:"action_await_field",value:function(t,e){var n=this._formFiller();n.detect(e);var r=n.fields();return!!(r&&r[t]&&r[t].length)||(this.retryStep(),!1)}},{key:"action_form_fill",value:function(t,e,n,r){var i=this._formFiller();i.detect(e);var o=i.fill(t,r);return n&&(this.injectStyles(),o.forEach((function(t){var e=i._getParentElement(t);e&&e.classList.add("appbind-mech-hide"),i._getLabelElements(t).forEach((function(t){t.classList.add("appbind-mech-hide")})),t.classList.add("appbind-mech-hide")}))),!!o}},{key:"action_form_submit",value:function(t){var e=this._formFiller();return e.detect(t),e.submit()}},{key:"action_overlay_show",value:function(){return O.singleton().show(),O.singleton().timeout(),this._cookies((function(t){t.set("appbind-overlay",!0,{expires:(new Date).setTime(Date.now()+12e4)})})),!0}},{key:"action_overlay_hide",value:function(){return O.singleton().hide(),this._cookies((function(t){t.set("appbind-overlay",0),t.delete("appbind-overlay")})),!0}},{key:"action_inject",value:function(e,n,r){var i=this._queryAll(n);if(i&&1===i.length){var o=i[0],a={before:function(t,e){t.parentNode.insertBefore(e,t)},after:function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},firstChild:function(t,e){t.insertBefore(e,t.firstChild)},lastChild:function(t,e){t.insertBefore(e,null)}}[e];if(!a)return;var s=t.htmlToElement(r);if(!s)return;return a(o,s),!0}}},{key:"action_g2profile",value:function(e,n,r,i){this.injectStyles();var o=function(t){t&&(t.preventDefault(),t.stopPropagation()),document.querySelectorAll(".appbind-mech-hide").forEach((function(t){if(t.classList.remove("appbind-mech-hide"),t.value){var e=t.value;window.setTimeout((function(){return t.value=e}),200)}}));var e=document.querySelector(".appbind-g2-profile");e&&e.parentNode.removeChild(e)},a=t.htmlToElement('\n      <div>\n        <style>\n          .appbind-g2-profile {\n            border: solid 2px #ff492c;\n            border-radius: 6px;\n            padding: 16px;\n            margin: 16px 0;\n            overflow: auto;\n          }\n          .appbind-g2-logo {\n            float: left;\n            margin-right: 16px;\n            height: 48px;\n            width: 48px;\n          }\n          .appbind-g2-logo svg circle {\n            fill: #ff492c;\n          }\n          .appbind-g2-logo svg path {\n            fill: white;\n          }\n          .appbind-g2-main {\n            float: left;\n            line-height: 24px;\n            font-size: 14px;\n            font-family: Barlow, sans-serif;\n          }\n          .appbind-g2-name {\n            font-weight: bold;\n          }\n          .appbind-g2-email {\n            font-style: italic;\n          }\n          .appbind-g2-cancel {\n            float: right;\n            height: 24px;\n            padding: 12px 0;\n            margin-left: 16px;\n          }\n          .appbind-g2-cancel a svg {\n            width: 24px;\n            height: 24px;\n          }\n        </style>\n        <div class=\'appbind-g2-profile\'>\n          <div class=\'appbind-g2-logo\'>\n            <svg xmlns="http://www.w3.org/2000/svg" contain="paint" buffered-rendering="static" viewBox="0 0 1000 1000" class="topnav__item__g2 g2-logo icon-g2-logo nessy-only" aria-labelledby="icon-label-7d71a6794245ecef8f7a0fc539069495" role="img"><title id="icon-label-7d71a6794245ecef8f7a0fc539069495">G2 - Business Software Reviews</title><circle cx="500" cy="500" r="500"></circle><path d="M716.4 383H631c2.3-13.4 10.6-20.9 27.4-29.4l15.7-8c28.1-14.4 43.1-30.7 43.1-57.3 0-16.7-6.5-29.9-19.4-39.4s-28.1-14.2-45.9-14.2a70.8 70.8 0 00-38.9 11.1c-11.7 7.2-20.4 16.5-25.8 28.1l24.7 24.8c9.6-19.4 23.5-28.9 41.8-28.9 15.5 0 25 8 25 19.1 0 9.3-4.6 17-22.4 26l-10.1 4.9c-21.9 11.1-37.1 23.8-45.9 38.2s-13.1 32.5-13.1 54.4v6h129.2zM705 459.2H563.6l-70.7 122.4h141.4L705 704.1l70.7-122.5L705 459.2z"></path><path d="M505.1 663.3c-90 0-163.3-73.3-163.3-163.3s73.3-163.3 163.3-163.3L561 219.8a286.4 286.4 0 00-55.9-5.5c-157.8 0-285.7 127.9-285.7 285.7s127.9 285.7 285.7 285.7a283.9 283.9 0 00168.2-54.8l-61.8-107.2a162.8 162.8 0 01-106.4 39.6z"></path></svg>\n          </div>\n          <div class=\'appbind-g2-main\'>\n            <span class=\'appbind-g2-name\'>'.concat(n.auth.fullName,"</span><br/>\n            <span class='appbind-g2-email'>").concat(n.auth.email,"</span>\n          </div>\n          ").concat(r?"":'\n          <div class=\'appbind-g2-cancel\'>\n            <a href="javascript:void(0)"">\n              <svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="CloseIcon"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>\n            </a>\n          </div>\n    ',"\n        </div>\n      </div>\n    ")),s=this._queryAll(e);if(s&&1===s.length){var u=s[0];return u.insertBefore(a,u.firstChild),document.querySelectorAll(".appbind-g2-profile .appbind-g2-cancel a").forEach((function(t){return t.onclick=o})),!0}return!i}},{key:"action_hide",value:function(t){return this.injectStyles(),this._queryAll(t).forEach((function(t){return t.classList.add("appbind-mech-hide")})),!0}},{key:"action_show",value:function(t){return this._queryAll(t).forEach((function(t){return t.classList.remove("appbind-mech-hide")})),!0}},{key:"action_timeout",value:function(e){return e?(this.script.timeout=1e3*e,!0):(this.script.timeout=t.TIMEOUT,!0)}},{key:"action_retry_time",value:function(e){return e?(this.script.retryTime=e,!0):(this.script.retryTime=t.RETRYTIME,!0)}},{key:"_queryAll",value:function(e,n){var r,i=e;if("string"!=typeof e){if(!e.length)return[];i=e[0],e.length>1&&"string"==typeof(r=e[1])&&(r=":visible"===r?t.isVisible:function(t){function n(t){return t&&t.toLowerCase().indexOf(e[1].toLowerCase())>=0}return n(t.innerText)||n(t.value)})}n||(n=document);var o=n.querySelectorAll(i);return o?(r&&(o=p(o).filter(r)),o):[]}},{key:"_query",value:function(t,e){var n=this._queryAll(t,e);if(n&&n.length&&n.length>0)return n[0]}},{key:"_formFiller",value:function(){return this.__formFiller=this.__formFiller||new C,this.__formFiller}},{key:"_cookies",value:function(t){var e=this;if(this.options&&this.options.cookies)return t(this.options.cookies);this.options||(this.options={}),this.options.cookies=new b,this.options.cookies.eTLDplus1().then((function(n){e.options.cookies.setDomain(n),t(e.options.cookies)}))}},{key:"injectStyles",value:function(){if(!document.getElementById("appbind-mech-styles")){var t=document.createElement("div");t.id="appbind-mech-styles",t.innerHTML="\n      <style>\n        .appbind-mech-hide { display: none !important; }\n      </style>\n    ",document.body.insertBefore(t,document.body.firstChild)}}}],[{key:"htmlToElement",value:function(t){var e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}},{key:"isVisible",value:function(t){var e=window.getComputedStyle(t);if("none"===e.display||"hidden"===e.visibility)return!1;for(var n=t.parentElement;n;){var r=window.getComputedStyle(n);if("none"===r.display||"hidden"===r.visibility||"0"===r.opacity)return!1;n=n.parentElement}return!0}}]),t}();function N(t,e,n){if(t){for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];if(!t||!t.hasOwnProperty||!t.hasOwnProperty(o))return n;t=t[o]}return t}}function j(t,e,n){if(t)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];i<r.length-1?(t[o]=t[o]||{},t=t[o]):t[o]=n}}I.TIMEOUT=12e4,I.RETRYTIME=300;var P,D=null;"undefined"!=typeof global&&global.hasOwnProperty("chrome")?P=global.chrome:"undefined"!=typeof window&&window.hasOwnProperty("chrome")&&(P=window.chrome),P&&P.storage&&P.storage.local?D=function(){function t(e){f(this,t),this.namespace="",e&&(this.namespace=e+".")}return d(t,[{key:"clone",value:function(t,e){var n=this.namespace.split(".");return n.pop(),t&&n.push(t),e&&e(this),new D(n.join("."))}},{key:"parent",value:function(){var t=this.namespace.split(".");return t.pop(),t.pop(),new D(t.join("."))}},{key:"appendNamespace",value:function(t){return t?this.namespace=this.namespace+t+".":this.namespace}},{key:"copyToParent",value:function(t){var e=this;this.load((function(n){for(var r=e.parent(),i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];r.set(a,n[a])}t&&t(r)}))}},{key:"set",value:function(t,e,n){var r={};n=n||function(t){},null!=e?(r[this.namespace+t]=e,P.storage.local.set(r,n)):P.storage.local.remove(this.namespace+t,n)}},{key:"get",value:function(t,e){var n=this;P.storage.local.get(this.namespace+t,(function(r){P.runtime.lastError?e():e(r[n.namespace+t])}))}},{key:"load",value:function(t){var e=this;P.storage.local.get(null,(function(n){if(P.runtime.lastError)return t();for(var r={},i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];a.startsWith(e.namespace)&&j(r,a.substring(e.namespace.length),n[a])}t(r)}))}},{key:"exists",value:function(t,e){P.storage.local.get(this.namespace+t,(function(t){e(!P.runtime.lastError)}))}},{key:"delete",value:function(t){var e=this;P.storage.local.get(this.namespace+t,(function(n){P.runtime.lastError||P.storage.local.remove(e.namespace+t)}))}},{key:"clear",value:function(){var t=this;this.namespace?P.storage.local.get(null,(function(e){if(!P.runtime.lastError)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];i.startsWith(t.namespace)&&P.storage.local.remove(i)}})):P.storage.local.clear()}}]),t}():localStorage&&(D=function(){function t(e){f(this,t),this.namespace="",e&&(this.namespace=e+".")}return d(t,[{key:"clone",value:function(t,e){var n=this.namespace.split(".");return n.pop(),t&&n.push(t),e&&e(this),new D(n.join("."))}},{key:"parent",value:function(){var t=this.namespace.split(".");return t.pop(),t.pop(),new D(t.join("."))}},{key:"appendNamespace",value:function(t){return t?this.namespace=this.namespace+t+".":this.namespace}},{key:"copyToParent",value:function(t){var e=this;this.load((function(n){for(var r=e.parent(),i=0,o=Object.keys(n);i<o.length;i++){var a=o[i];r.set(a,n[a])}t&&t(r)}))}},{key:"set",value:function(t,e,n){null!=e?localStorage.setItem(this.namespace+t,JSON.stringify(e)):localStorage.removeItem(this.namespace+t),n&&n()}},{key:"get",value:function(t,e){var n=localStorage.getItem(this.namespace+t);e(n=JSON.parse(n))}},{key:"load",value:function(t){for(var e={},n=0;n<localStorage.length;n++){var r=localStorage.key(n);r.startsWith(this.namespace)&&j(e,r.substring(this.namespace.length),JSON.parse(localStorage[r]))}t(e)}},{key:"exists",value:function(t,e){return void 0!==localStorage.getItem(this.namespace+t)}},{key:"delete",value:function(t){this.exists(t)&&localStorage.removeItem(this.namespace+this.key)}},{key:"clear",value:function(){if(this.namespace)for(var t=0;t<localStorage.length;t++){var e=localStorage.key(t);e.startsWith(this.namespace)&&this.delete(e)}else localStorage.clear()}}]),t}());var M=D;window.appbind=function(t){var e,n,r,a,u,c,p,f,h,d,v,m,y,g;g=function(){},(y="production")||(y="development"),console._log=console.log,console._info=console.info,console._warn=console.warn,console._error=console.error,console._debug=console.debug,"production"===y?(console.log=g,console.info=g,console.warn=g,console.debug=g):console.log=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console._log).call.apply(e,[console,"[%s] [%f] "+t,window.location.href,Date.now()].concat(r))},window.console.state_log=g,"state"!==y&&"development"!==y||(window.console.state_log=console._log),O.singleton().inner(O.g2());var w={},_=new M("appbind");function k(){var t=window.location.search.substring(1).split("&"),e={};return t.forEach((function(t){var n=l(t.split("="),2),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)})),e}function x(){var t=window.location.hash.substring(1).split("&"),e={};return t.forEach((function(t){var n=l(t.split("="),2),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)})),e}var E=new b("",1/96);function S(){return(e=e||s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.getAll();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){for(var t={},e=0;e<localStorage.length;e++){var n=localStorage.key(e);t[n]=localStorage.getItem(n)}return t}function C(t,e){return(n=n||s(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.set(e,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return(r=r||s(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.delete(e);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var T=null;function j(){return(a=a||s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!T){t.next=2;break}return t.abrupt("return",T);case 2:return t.t0=i,t.t1=i,t.t2=i,t.t3=i({},L()),t.next=8,S();case 8:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=k(),t.t7=(0,t.t1)(t.t5,t.t6),t.t8=x(),T=(0,t.t0)(t.t7,t.t8),t.abrupt("return",T);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(u=u||s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:return e=t.sent,t.abrupt("return",e["appbind-overlay"]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(c=c||s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:return e=t.sent,t.abrupt("return",e["appbind-session"]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return(p=p||s(o().mark((function t(e){var n,r,i,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:if((n=t.sent)["appbind-mech-step"]){t.next=5;break}return t.abrupt("return",0);case 5:if(r=n["appbind-mech-step"].split(":"),i=l(r,2),a=i[0],s=i[1],e===a){t.next=8;break}return t.abrupt("return",0);case 8:return t.abrupt("return",parseInt(s));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){return(f=f||s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:return e=t.sent,t.abrupt("return",e["appbind-destroy"]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t){t&&t.sessionId&&(t.expires||(t.expires=Date.now()+9e5),window.localStorage.setItem("appbind-session-data",JSON.stringify(t)),C("appbind-session",t.sessionId),t.mech&&t.mech.step&&C("appbind-mech-step",t.mech.step))}function B(){if(window.localStorage["appbind-session-data"]){var t=window.localStorage["appbind-session-data"],e=JSON.parse(t);return!e.expires||(new Date).setTime(e.expires)>Date.now()?void z():e}}function z(){return(h=h||s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _.clear(),t.t0=i,t.t1=i({},L()),t.next=5,S();case 5:for(e in t.t2=t.sent,(0,t.t0)(t.t1,t.t2))0===e.indexOf("appbind")&&(window.localStorage.removeItem(e),A(e));O.singleton().destroy();case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return(d=d||s(o().mark((function t(){var e,n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:if(!t.sent){t.next=4;break}z();case 4:return t.next=6,D();case 6:if(!(e=t.sent)){t.next=33;break}if(!(n=B())||e===n.sessionId){t.next=13;break}return t.next=12,z();case 12:n=null;case 13:if(!n||!n.userinfo){t.next=15;break}return t.abrupt("return",n);case 15:return t.prev=15,t.next=18,fetch("https://ws.appbind.com/partner/oidc/"+e);case 18:r=t.sent,t.next=26;break;case 21:return t.prev=21,t.t0=t.catch(15),t.next=25,fetch("https://api.appbind.com/partner/oidc/"+e);case 25:r=t.sent;case 26:return t.next=28,r.json();case 28:if(!(n=t.sent)||0!==n.status||!n.userInfo){t.next=33;break}return U(n={userinfo:n.userInfo,sessionId:e}),t.abrupt("return",n);case 33:return t.abrupt("return",void 0);case 34:case"end":return t.stop()}}),t,null,[[15,21]])})))).apply(this,arguments)}function G(t,e,n){return(v=v||s(o().mark((function t(e,n,r){var i,a,s,u,c,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://scripts.appbind.com/v0/"+encodeURI(e)+"/scripts/"+encodeURI(n)+".json?"+(new Date).getTime()).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 2:if(i=t.sent){t.next=5;break}return t.abrupt("return");case 5:if(r)for(a=0;a<i.length;a++)for(s=i[a],u=1;u<s.length;u++)"string"==typeof(c=s[u])&&0===c.indexOf("__PARAMS__")&&(l=r,c.length>"__PARAMS__.".length&&(l=N(r,c.substr("__PARAMS__.".length))),s[u]=l);return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){(m=m||s(o().mark((function e(){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.next=3,E.eTLDplus1();case 3:return e.t1=e.sent,e.t0.setDomain.call(e.t0,e.t1),e.prev=5,(t=t||{}).domain=t.domain||E.domain,e.next=10,P();case 10:if(!e.sent){e.next=13;break}O.singleton().show(),O.singleton().timeout();case 13:return e.next=15,F();case 15:if(n=e.sent){e.next=20;break}return e.next=19,z();case 19:return e.abrupt("return",e.sent);case 20:if(r={auth:Object.assign({firstName:n.userinfo.given_name,lastName:n.userinfo.family_name,fullName:(n.userinfo.given_name+" "+n.userinfo.family_name).trim(),email:n.userinfo.email},n.userinfo)},O.singleton().inner(O.g2(r)),console.state_log("%c [appbind] [session] %s","color:orange;font-size:18px;",JSON.stringify(n)),n.mech){e.next=29;break}return e.next=26,G("g2",t.domain,r);case 26:e.t2=e.sent,n.mech={script:e.t2,step:0},C("appbind-overlay",!0);case 29:return e.next=31,q(n.sessionId);case 31:if(e.t3=e.sent,e.t3){e.next=34;break}e.t3=0;case 34:n.mech.step=e.t3,i=new I(_,{context:"skyhook."+n.sessionId,overlay:!1,cookies:E,onStep:function(t){return t||0===t?C("appbind-mech-step",n.sessionId+":"+t):z()}}),w.storage=_,w.mech=i,w.session=n,w.run=function(){i.run(n.mech.script,n.mech.step)},w.run(),e.next=46;break;case 43:e.prev=43,e.t4=e.catch(5),console.error(e.t4);case 46:case"end":return e.stop()}}),e,null,[[5,43]])})))).apply(this,arguments)}(),w}({})}();
